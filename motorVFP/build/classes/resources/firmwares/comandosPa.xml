<?xml version="1.0" encoding="UTF-8"?>
<output>
<entity>
  <country>
   <id>2</id>
   <description>Panama</description>
  </country>
  <equipment>
     <id>2</id>
     <brand>START</brand>
     <model>HSP-7000</model>
     <register>TFST111234567</register>
     <serie>TFST111234567</serie>
     <firmware>VE1.00</firmware>
     <papel>300</papel>
     <idfiscal>1234567890 DV12</idfiscal>
     <countryid>2</countryid>
  </equipment>
  <flag>
      <id>0</id>
      <value>0</value>
      <description>Print messanger error</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>1</id>
      <value>0</value>
      <description>Print finally line</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>2</id>
      <value>0</value>
      <description>Flag 2</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>3</id>
      <value>0</value>
      <description>Flag 3</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>4</id>
      <value>0</value>
      <description>Flag 4</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>5</id>
      <value>0</value>
      <description>Flag 5</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>6</id>
      <value>0</value>
      <description>Flag 6</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>7</id>
      <value>0</value>
      <description>Flag 7</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>8</id>
      <value>0</value>
      <description>Flag 8</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>9</id>
      <value>0</value>
      <description>Flag 9</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>10</id>
      <value>0</value>
      <description>Flag 10</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>11</id>
      <value>0</value>
      <description>Flag 11</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>12</id>
      <value>0</value>
      <description>Flag 12</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>13</id>
      <value>0</value>
      <description>Flag 13</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>14</id>
      <value>0</value>
      <description>Flag 14</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>15</id>
      <value>0</value>
      <description>Flag 15</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>16</id>
      <value>0</value>
      <description>Flag 16</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>17</id>
      <value>0</value>
      <description>Flag 17</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>18</id>
      <value>0</value>
      <description>Flag 18</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>19</id>
      <value>0</value>
      <description>Flag 19</description>
      <equipmentid>2</equipmentid>
  </flag>
  <flag>
      <id>20</id>
      <value>0</value>
      <description>Flag 20</description>
      <equipmentid>2</equipmentid>
  </flag>
  <cashier>
      <id>0</id>
      <name>Cashier0</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>1</id>
      <name>Cashier1</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>2</id>
      <name>Cashier2</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>3</id>
      <name>Cashier3</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>4</id>
      <name>Cashier4</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>5</id>
      <name>Cashier5</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>6</id>
      <name>Cashier6</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>7</id>
      <name>Cashier7</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>8</id>
      <name>Cashier8</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>9</id>
      <name>Cashier9</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>10</id>
      <name>Cashier10</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>10</id>
      <name>Cashier10</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>11</id>
      <name>Cashier11</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>12</id>
      <name>Cashier12</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>13</id>
      <name>Cashier13</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>14</id>
      <name>Cashier14</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>15</id>
      <name>Cashier15</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>16</id>
      <name>Cashier16</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>17</id>
      <name>Cashier17</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>18</id>
      <name>Cashier18</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>19</id>
      <name>Cashier19</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>20</id>
      <name>Cashier20</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
   <cashier>
      <id>21</id>
      <name>Cashier21</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>22</id>
      <name>Cashier22</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>23</id>
      <name>Cashier23</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>24</id>
      <name>Cashier24</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>25</id>
      <name>Cashier25</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>26</id>
      <name>Cashier26</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>27</id>
      <name>Cashier27</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>28</id>
      <name>Cashier28</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>29</id>
      <name>Cashier29</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <cashier>
      <id>30</id>
      <name>Cashier30</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
   <cashier>
      <id>31</id>
      <name>Cashier31</name>
      <pass></pass>
      <equipmentid>2</equipmentid>
  </cashier>
  <meanpayment>
      <id>1</id>
      <description>Efectivo</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>2</id>
      <description>Cheque</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>3</id>
      <description>Cesta Ticket</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>4</id>
      <description>Vale</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>5</id>
      <description>TD</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>6</id>
      <description>TC</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>7</id>
      <description>Tranferencia</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>8</id>
      <description>Pay Pad</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>9</id>
      <description>Deposito</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>10</id>
      <description>Cheque 2</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>11</id>
      <description>Cesta Ticket1</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>12</id>
      <description>Cesta Ticket1</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>13</id>
      <description>Cesta Ticket1</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>14</id>
      <description>Cesta Ticket1</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>15</id>
      <description>Cesta Ticket1</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <meanpayment>
      <id>16</id>
      <description>Cesta Ticket1</description>
      <amount>0</amount>
      <equipmentid>2</equipmentid>
  </meanpayment>
  <taxe>
      <id>0</id>
      <name>Tax 0</name>
      <category>0</category>
      <custcategory></custcategory>
      <parenid></parenid>
      <rate>0.00</rate>
      <ratecascade>0</ratecascade>
      <rateoder>0</rateoder>
      <equipmentid>2</equipmentid>
  </taxe>
   <taxe>
      <id>1</id>
      <name>Tax 1</name>
      <category>1</category>
      <custcategory></custcategory>
      <parenid></parenid>
      <rate>0.10</rate>
      <ratecascade>0</ratecascade>
      <rateoder>0</rateoder>
      <equipmentid>2</equipmentid>
  </taxe>
   <taxe>
      <id>2</id>
      <name>Tax 2</name>
      <category>2</category>
      <custcategory></custcategory>
      <parenid></parenid>
      <rate>0.07</rate>
      <ratecascade>0</ratecascade>
      <rateoder>0</rateoder>
      <equipmentid>2</equipmentid>
  </taxe>
   <taxe>
      <id>3</id>
      <name>Tax 3</name>
      <category>3</category>
      <custcategory></custcategory>
      <parenid></parenid>
      <rate>0.18</rate>
      <ratecascade>0</ratecascade>
      <rateoder>0</rateoder>
      <equipmentid>2</equipmentid>
  </taxe>
  <footerheader>
      <e1>Impresoras Fiscales</e1>
      <e2>The Factory HKA</e2>
      <e3>Panama</e3>
      <e4>0058-0212-2375253</e4>
      <e5></e5>
      <e6></e6>
      <e7></e7>
      <e8></e8>
      <p1>Gracias por pagar..</p1>
      <p2></p2>
      <p3></p3>
      <p4></p4>
      <p5></p5>
      <p6></p6>
      <p7></p7>
      <p8></p8>
      <equipmentid>2</equipmentid>
  </footerheader>
</entity>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($antChar = "")
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "T" || $char == "t")
               #set ($bandera = 1)   
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($char == "1" || $char == "2")
               #set ($bandera = 1)           
            #else
               #set ($bandera = 0)
            #end  
          #end 
        #elseif($ite >= 2 || $ite < 6) 
          #if ($bandera == 1)      
                #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end             
          #end
        #elseif($ite == 6)
             #if ($bandera == 1)
                #if ($char == "1" || $char == "2")
                   #set ($bandera = 1)           
                #else
                   #set ($bandera = 0)
                #end  
              #end
        #elseif($ite >= 7 || $ite < 11)
              #if ($bandera == 1)      
                #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end             
              #end
        #elseif($ite == 11)
             #if ($bandera == 1)
                #if ($char == "1" || $char == "2")
                   #set ($bandera = 1)           
                #else
                   #set ($bandera = 0)
                #end  
              #end
         #elseif($ite >= 12 || $ite < 16)
              #if ($bandera == 1)      
                #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end             
              #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>programar-tasas</accion>
<tiempo>5</tiempo>
<descripcion>Programar tasas de impuesto</descripcion>
    #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == " " || ${comando.getPartIni()} == "!" || ${comando.getPartIni()} == '"' || ${comando.getPartIni()} == "#")
     #set ($ite = 0)
     #set ($bandera = 1)
 #foreach ($char in $comando.getChars())
  #if(18 > $ite)
     #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
       #set ($bandera = 1 )
     #else
       #set ($bandera = 0)
       #set ($ite = 18)
     #end
  #end
       #set ($ite = $ite + 1)
 #end
   #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>regItemFact</accion>
<tiempo>30</tiempo>
<descripcion>Linea de Item TasaX en Factura</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "C")
#set ($bandera = 1)
    #if ($bandera == 1)     
<id>${comando.getTramaByte()}</id>
<accion>desbloquear</accion>
<tiempo>300</tiempo>
<descripcion>Prueba Desbloqueo</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "-" || ${comando.getPartIni()} == "*" || ${comando.getPartIni()} == "/" || ${comando.getPartIni()} == "+")
     #set ($ite = 0)
     #set ($bandera = 1)
 #foreach ($char in $comando.getChars())
  #if(18 > $ite)
     #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
       #set ($bandera = 1 )
     #else
       #set ($bandera = 0)
       #set ($ite = 18)
     #end
  #end
       #set ($ite = $ite + 1)
 #end
   #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>anula-item</accion>
<tiempo>30</tiempo>
<descripcion>Anulacion de Item TasaX en Factura</descripcion>
   #end
#end
</comando>
<comando>
<id>a</id>
<accion>viewdatetime-display</accion>
<tiempo>5</tiempo>
<descripcion>Ver Fecha y Hora en Display</descripcion>
</comando>
<comando>
<id>b</id>
<accion>animation-display</accion>
<tiempo>5</tiempo>
<descripcion>Rotar Mensaje Comercial en Display</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "c")
#set ($ite = 0)
#set ($accion = "")
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "U" || $char == "D")
               #set ($bandera = 1)
                #if ($char == "U")
                   #set ($accion = "setTextLineUp-display")
                 #elseif ($char == "D")
                   #set ($accion = "setTextLineDow-display")
                 #end
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite >= 1)
             #if($bandera == 1)
               #set ($bandera = 1)             
             #else
               #set ($bandera = 0)
             #end
        #else          
        #end
         #set ($ite = $ite + 1)
    #end
     #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>${accion}</accion>
<tiempo>10</tiempo>
<descripcion>Programar Mensajes Temporales en Display Arriba o Abajo</descripcion>
     #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "L" || $char == "I")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite >= 1)
             #if($bandera == 1)
               #set ($bandera = 1)             
             #else
               #set ($bandera = 0)
             #end
        #else          
        #end
         #set ($ite = $ite + 1)
    #end
     #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>setTextTradeStatic-display</accion>
<tiempo>10</tiempo>
<descripcion>Programar Mensajes Comercial Estatico en Display</descripcion>
     #end
#end
</comando>
<comando>
<id>4</id>
<accion>subtotal-display</accion>
<tiempo>5</tiempo>
<descripcion>Sub-Totalizar el monto en Display</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "Y")
<id>${comando.getTramaByte()}</id>
<accion>barcode-plu</accion>
<tiempo>10</tiempo>
<descripcion>Codigo de barra en Item de Documento Fiscal</descripcion>
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "y")
<id>${comando.getTramaByte()}</id>
<accion>barcode-foot</accion>
<tiempo>10</tiempo>
<descripcion>Codigo de barra en Pie de Documento Fiscal</descripcion>
#end
</comando>
<comando>
<id>7</id>
<accion>anula-factura</accion>
<tiempo>10</tiempo>
<descripcion>Anulacion de Factura</descripcion>
</comando>
<comando>
<id>0</id>
<accion>opendrawer</accion>
<tiempo>10</tiempo>
<descripcion>Abrir Gaveta</descripcion>
</comando>
<comando>
<id>3</id>
<accion>subtotal</accion>
<tiempo>5</tiempo>
<descripcion>Sub-Totalizar el monto</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($antchar = "")
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "A")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)
            #if ($char == "N" || $char == "D")
               #set ($bandera = 1)
               #set ($antchar = $char)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 2)
          #if ($antchar == "N") 
            #if ($char == "1" || $char == "2" || $char == "3")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
          #else
            #if ($char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
          #end
        #else          
        #end
         #set ($ite = $ite + 1)
    #end
     #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>fiscalizar</accion>
<tiempo>300</tiempo>
<descripcion>Prueba Fiscalizacion</descripcion>
     #end
#end
</comando>
<comando>
<id>Pa</id>
<accion>fiscalizar</accion>
<tiempo>400</tiempo>
<descripcion>Confirmando Rif Fiscalizacion</descripcion>
</comando>
<comando>
<id>Pb</id>
<accion>fiscalizar</accion>
<tiempo>400</tiempo>
<descripcion>Confirmando Serial Fiscalizacion</descripcion>
</comando>
<comando>
<id>PMFS</id>
<accion>fiscalizar</accion>
<tiempo>400</tiempo>
<descripcion>Confirmando Rif Fiscalizacion</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "A")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)
            #if ($char == "R")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
         #elseif($ite == 2)          
            #if ($char == "T")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
         #elseif($ite == 3)
            #if ($char == "F")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 4)
            #if ($char == "S" || $char == "B" || $char == "D")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 5)
            #if ($char == "T" || $char == "X" || $char == "A")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 6 || $ite == 7)
            #if ($char == "1")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
        #elseif(7 < $ite || $ite < 15)
            #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
        #elseif(14 < $ite)
            #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9" || $char == "D" || $char == "V" || $char == "-")
               #set ($bandera = 1)               
            #else
               #set ($bandera = 0)
            #end
        #else          
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)     
<id>${comando.getTramaByte()}</id>
<accion>fiscalizar</accion>
<tiempo>300</tiempo>
<descripcion>Prueba Fiscalizacion</descripcion>
    #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "8")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "1")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)
          #if($bandera == 1)
            #if ($char == "0")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
          #end
        #else          
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)     
<id>${comando.getTramaByte()}</id>
<accion>cierreDNF</accion>
<tiempo>10</tiempo>
<descripcion>Cierre Documento No Fiscal</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "8")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "0")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)
          #if($bandera == 1)
            #if ($char == "0" || $char == "*" || $char == ">" || $char == "$" || $char == "!" || $char == "ยก")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
          #end
        #else          
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)     
<id>${comando.getTramaByte()}</id>
<accion>lineDNF</accion>
<tiempo>10</tiempo>
<descripcion>Linea de Documento No Fiscal</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "B")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #else          
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)     
<id>${comando.getTramaByte()}</id>
<accion>fiscalizar</accion>
<tiempo>300</tiempo>
<descripcion>Prueba Fiscalizacion</descripcion>
   #end
#end
</comando>
<comando>
<id>D</id>
<accion>printprogram</accion>
<tiempo>3000</tiempo>
<descripcion>Imprimir Programacion</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "@")
<id>${comando.getTramaByte()}</id>
<accion>comentario</accion>
<tiempo>10</tiempo>
<descripcion>Comentario en Documento Fiscal</descripcion>
#end
</comando>
<comando>
<id>k</id>
<accion>correccion</accion>
<tiempo>10</tiempo>
<descripcion>Correccion de Item en Documento Fiscal</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "p")
#set ($ite = 0)
#set ($accion = "")
#set ($bandera = 1)
#foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "-" || $char == "+")
               #set ($bandera = 1)
                 #if ($char == "-")
                   #set ($accion = "descPorcentaje")
                 #else
                   #set ($accion = "recaPorcentaje")
                 #end
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite >= 1 and $ite < 5)  
          #if ($bandera == 1)
            #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end  
          #end 
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>${accion}</accion>
<tiempo>30</tiempo>
<descripcion>Ajuste por porcentaje de Item en Documento Fiscal</descripcion>
#end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "q")
#set ($ite = 0)
#set ($accion = "")
#set ($bandera = 1)
#foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "-" || $char == "+")
               #set ($bandera = 1)
                 #if ($char == "-")
                   #set ($accion = "descQuantity")
                 #elseif ($char == "+")
                   #set ($accion = "recaQuantity")
                 #end
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite >= 1 and $ite < 10)  
          #if ($bandera == 1)
            #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end  
          #end 
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>${accion}</accion>
<tiempo>30</tiempo>
<descripcion>Ajuste por cantidad en Documento Fiscal</descripcion>
#end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "j")
#set ($ite = 0)
#set ($bandera = 1)
#set ($ant = "")
#foreach ($char in $comando.getChars())
        #if($ite == 1)  
          #if ($bandera == 1)          
            #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9" || $char == "R" || $char == "S" || $char == "F")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end 
          #end			
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>datoClient</accion>
<tiempo>10</tiempo>
<descripcion>Linea de Datos del Cliente en Documento Fiscal</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($antChar = "")
#set ($bandera = 0)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "C")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($char == "0" || $char == "1" || $char == "2" || $char == "3")
               #set ($bandera = 1)
               #set ($antChar = $char)
            #else
               #set ($bandera = 0)
            #end  
          #end 
        #elseif($ite == 2) 
          #if ($bandera == 1)  
             #if ($antChar == "0" || $antChar == "1" || $antChar == "2")
                #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end  
             #else
                #if ($char == "0" || $char == "1")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end  
             #end
          #end
        #elseif($ite >= 3 and $ite < 8)
              #if ($bandera == 1)  
                #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end 
              #end  
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>programar-cajero</accion>
<tiempo>5</tiempo>
<descripcion>Programar Cajero</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($antChar = "")
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "E")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($char == "0" || $char == "1")
               #set ($bandera = 1)
               #set ($antChar = $char)
            #else
               #set ($bandera = 0)
            #end  
          #end 
        #elseif($ite == 2) 
          #if ($bandera == 1)
            #if ($antChar == "0")
                #if ($char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #else
                 #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #end
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>programar-medio</accion>
<tiempo>5</tiempo>
<descripcion>Programar nombre de Medio de Pago</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "H")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($char == "0" || $char == "9")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end  
          #end 
        #elseif($ite == 2) 
          #if ($bandera == 1)          
                #if ($char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end             
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>programar-encabezPie</accion>
<tiempo>5</tiempo>
<descripcion>Programar Encabezado y pie de Ticket</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "P")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "J")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end  
          #end 
        #elseif($ite == 2) 
          #if ($bandera == 1)          
                #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9" || $char == " ")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end             
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>programar-flags</accion>
<tiempo>5</tiempo>
<descripcion>Programar Bandera</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "1")
#set ($ite = 0)
#set ($antChar = "")
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "0" || $char == "1")
               #set ($bandera = 1)
               #set ($antChar = $char)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($antChar == "0")
                #if ($char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #else
                 #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #end
          #end     
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>pagoDirecto</accion>
<tiempo>30</tiempo>
<descripcion>Pago Directo</descripcion>
    #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "d")
     #set ($ite = 0)
     #set ($bandera = 1)
 #foreach ($char in $comando.getChars())
   #if(19 > $ite)
     #if($ite == 0)
         #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" )
            #set ($bandera = 1 )
         #else
            #set ($bandera = 0)
            #set ($ite = 19)
         #end
     #else
         #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
           #set ($bandera = 1 )
         #else
           #set ($bandera = 0)
           #set ($ite = 19)
         #end
     #end
   #end
       #set ($ite = $ite + 1)
 #end
   #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>regItemRefund</accion>
<tiempo>30</tiempo>
<descripcion>Registro de Items en Devolucion</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "`")
     #set ($ite = 0)
     #set ($bandera = 1)
 #foreach ($char in $comando.getChars())
   #if(19 > $ite)
     #if($ite == 0)
         #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" )
            #set ($bandera = 1 )
         #else
            #set ($bandera = 0)
            #set ($ite = 19)
         #end
     #else
         #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
           #set ($bandera = 1 )
         #else
           #set ($bandera = 0)
           #set ($ite = 19)
         #end
     #end
   #end
       #set ($ite = $ite + 1)
 #end
   #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>regItemDebitNote</accion>
<tiempo>30</tiempo>
<descripcion>Registro de Items en Nota de Debito</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "5")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite >= 0 || $ite < 6)
             #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
             #else
                    #set ($bandera = 0)
             #end 
        #else       
             #set ($bandera = 0)      
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>iniciar-cajero</accion>
<tiempo>5</tiempo>
<descripcion>Iniciar Cajero</descripcion>
   #end
#end
</comando>
<comando>
<id>6</id>
<accion>fin-cajero</accion>
<tiempo>3</tiempo>
<descripcion>Finalizar Cajero</descripcion>
</comando>
<comando>
<id>I0X</id>
<accion>report-x</accion>
<tiempo>3500</tiempo>
<descripcion>Reporte X</descripcion>
</comando>
<comando>
<id>I0Z</id>
<accion>report-z</accion>
<tiempo>3500</tiempo>
<descripcion>Reporte Z</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "I")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "3")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)          
                #if ($char == "A" || $char == "S" || $char == "M")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #elseif($ite >= 2 and $ite < 4)
          #if ($bandera == 1)
               #if ($char == "0")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
         #elseif($ite >= 4 and $ite < 8)
          #if ($bandera == 1)
               #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #elseif($ite >= 8 and $ite < 10)
          #if ($bandera == 1)
               #if ($char == "0")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
         #elseif($ite >= 10 and $ite < 14)
          #if ($bandera == 1)
               #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>printReportZNumber</accion>
<tiempo>1000</tiempo>
<descripcion>Reporte Memoria fiscal por intervalos Numeros</descripcion>
 #end
#end
</comando>
<comando>
<id>S1</id>
<accion>statusS1</accion>
<tiempo>1500</tiempo>
<descripcion>Subir Status S1</descripcion>
</comando>
<comando>
<id>S2</id>
<accion>statusS2</accion>
<tiempo>100</tiempo>
<descripcion>Subir Status S2</descripcion>
</comando>
<comando>
<id>S3</id>
<accion>statusS3</accion>
<tiempo>1500</tiempo>
<descripcion>Subir Status S3</descripcion>
</comando>
<comando>
<id>S4</id>
<accion>statusS4</accion>
<tiempo>1800</tiempo>
<descripcion>Subir Status S4</descripcion>
</comando>
<comando>
<id>S5</id>
<accion>statusS5</accion>
<tiempo>200</tiempo>
<descripcion>Subir Status S5</descripcion>
</comando>
<comando>
<id>S6</id>
<accion>statusS6</accion>
<tiempo>100</tiempo>
<descripcion>Subir Status S6</descripcion>
</comando>
<comando>
<id>S7</id>
<accion>statusS7</accion>
<tiempo>100</tiempo>
<descripcion>Subir Status S7</descripcion>
</comando>
<comando>
<id>S8E</id>
<accion>statusS8E</accion>
<tiempo>100</tiempo>
<descripcion>Subir Status S8E</descripcion>
</comando>
<comando>
<id>S8P</id>
<accion>statusS8P</accion>
<tiempo>100</tiempo>
<descripcion>Subir Status S8P</descripcion>
</comando>
<comando>
<id>SV</id>
<accion>statusSV</accion>
<tiempo>100</tiempo>
<descripcion>Subir Status SV</descripcion>
</comando>
<comando>
<id>U0X</id>
<accion>dataReportX</accion>
<tiempo>2000</tiempo>
<descripcion>Subir X Report Data</descripcion>
</comando>
<comando>
<id>U0Z</id>
<accion>dataReportZ</accion>
<tiempo>2000</tiempo>
<descripcion>Subir Z Report Data</descripcion>
</comando>
<comando>
#if (${comando.getPartIni()} == "U")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "3")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)          
                #if ($char == "A" || $char == "S" || $char == "M")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #elseif($ite >= 2 and $ite < 4)
          #if ($bandera == 1)
               #if ($char == "0")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
         #elseif($ite >= 4 and $ite < 8)
          #if ($bandera == 1)
               #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #elseif($ite >= 8 and $ite < 10)
          #if ($bandera == 1)
               #if ($char == "0")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
         #elseif($ite >= 10 and $ite < 14)
          #if ($bandera == 1)
               #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>dataReportZNumber</accion>
<tiempo>2000</tiempo>
<descripcion>Subir Z Report Data por intervalos Numeros</descripcion>
 #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "U")
#set ($ite = 0)
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "2")
               #set ($bandera = 1)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)          
                #if ($char == "A" || $char == "S" || $char == "M")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
         #elseif($ite >= 2 and $ite < 14)
          #if ($bandera == 1)
               #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>dataReportZDate</accion>
<tiempo>2000</tiempo>
<descripcion>Subir Z Report Data por intervalos Fecha</descripcion>
 #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "2")
#set ($ite = 0)
#set ($antChar = "")
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "0" || $char == "1")
               #set ($bandera = 1)
               #set ($antChar = $char)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($antChar == "0")
                #if ($char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #else
                 #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #end
          #end
        #elseif($ite >= 2 and $ite < 14)
          #if ($bandera == 1)
               #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>parcial-factura</accion>
<tiempo>30</tiempo>
<descripcion>Pago parcial</descripcion>
   #end
#end
</comando>
<comando>
#if (${comando.getPartIni()} == "f")
#set ($ite = 0)
#set ($antChar = "")
#set ($bandera = 1)
    #foreach ($char in $comando.getChars())
        #if($ite == 0)
            #if ($char == "0" || $char == "1")
               #set ($bandera = 1)
               #set ($antChar = $char)
            #else
               #set ($bandera = 0)
            #end
        #elseif($ite == 1)  
          #if ($bandera == 1)
            #if ($antChar == "0")
                #if ($char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #else
                 #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
            #end
          #end
        #elseif($ite >= 2 and $ite < 14)
          #if ($bandera == 1)
               #if ($char == "0" || $char == "1" || $char == "2" || $char == "3" || $char == "4" || $char == "5" || $char == "6" || $char == "7" || $char == "8" || $char == "9" || $char == "-")
                    #set ($bandera = 1)
                #else
                    #set ($bandera = 0)
                #end   
          #end
        #else
        #end
         #set ($ite = $ite + 1)
    #end
    #if ($bandera == 1)
<id>${comando.getTramaByte()}</id>
<accion>factura</accion>
<tiempo>30</tiempo>
<descripcion>Pago parcial Devolucion</descripcion>
   #end
#end
</comando>
<display>
        <line>
            <text align="left" length="10">Total.</text>
            <text align="right" length="10">${ticket.printTotal()}</text>
        </line>
        <line>
           <text align="center" length="20">Muchas gracias.</text>
        </line>
</display>
<ticket>
        <!--image>Printer.Ticket.Logo</image-->
        <line></line>
        <line>
            <text align="center" length="42" bold="true">DGI</text>
        </line>
        <line>
            <text align="center" length="42">RUC: 1234567890</text>
        </line>
         #if (${ticket.printEncabticket()})       
          #foreach ($lineText in $ticket.printEncabticket())
            #if($lineText != "")
                <line>
                    <text align="center" length="42">$lineText</text>
                </line>
            #end
          #end
         #end
          #if (${ticket.getTicketType()} == 4)<!--z>Si es un reporte X </z-->
       <line>
            <text align="left" length="30">${ticket.getNameType()}:</text>
            <text>${ticket.getTicketId()}</text>
        </line>
           <line>
            <text bold="true">Pagos</text>
        </line>
        <line>
            <text align ="right" length="42">Total</text>
        </line>
        <line>
            <text>------------------------------------------</text>
        </line> 
        #foreach ($line in $ticket.printLinesNoFiscal())
        <line>
            <text align ="left" length="32">${line}</text>
            <text align ="right" length="10">NO FISCAL</text>
        </line> 
        #end
        <line>
            <text>------------------------------------------</text>
        </line> 
        
        <line>
            <text align ="left" length="32">Pagos Realizados:</text>
            <text align ="right" length="10">${payments.printPayments()}</text>
        </line>
         <line></line>
        <line size="1">
            <text align ="left" length="32" bold="true">Total</text>
            <text align ="right" length="10" bold="true">${payments.printPaymentsTotal()}</text>
        </line>
        

        <line></line>
        <line>
            <text bold="true">Impuestos</text>
        </line>
        <line>
            <text align ="right" length="32">Sub-Total</text>
            <text align ="right" length="10">Total</text>
        </line>
        <line>
            <text>------------------------------------------</text>
        </line>
        #foreach ($line in $payments.getSaleLines())
        <line>
            <text align ="left" length="22">${line.printTax()}</text>
            <text align ="right" length="10">${line.printSubtotal()}</text>
            <text align ="right" length="10">${line.printTotal()}</text>
        </line> 
        #end        
        <line>
            <text>------------------------------------------</text>
        </line> <line size="1">
            <text align ="left" length="22" bold="true">Total</text>
            <text align ="right" length="10" bold="true">${payments.printSalesSubtotal()}</text>
            <text align ="right" length="10" bold="true">${payments.printSalesTotal()}</text>
        </line>

        <line></line>
        <line>
            <text length="18">Maquina:</text>
            <text>${payments.printHost()}</text>
        </line>    
        <line>
            <text length="18">Fecha Inicio:</text>
            <text>${payments.printDateStart()}</text>
        </line>  
        <line>
            <text length="18">Fecha Fin:</text>
            <text>${payments.printDateEnd()}</text>
        </line>
     #elseif (${ticket.getTicketType()} == 5)<!--z>Si es un reporte Z </z-->
       <line>
            <text align="left" length="30">${ticket.getNameType()}:</text>
            <text>${ticket.getTicketId()}</text>
        </line>
           <line>
            <text bold="true">Pagos</text>
        </line>
        <line>
            <text align ="right" length="42">Total</text>
        </line>
        <line>
            <text>------------------------------------------</text>
        </line> 
        
        <line>
            <text align ="left" length="32">Pagos Realizados:</text>
            <text align ="right" length="10">${payments.printPayments()}</text>
        </line>
        <line size="1">
            <text align ="left" length="32" bold="true">Total</text>
            <text align ="right" length="10" bold="true">${payments.printPaymentsTotal()}</text>
        </line>
        
        <line></line>
        <line>
            <text bold="true">Impuestos</text>
        </line>
        <line>
            <text align ="right" length="32">Sub-Total</text>
            <text align ="right" length="10">Total</text>
        </line>
        <line>
            <text>------------------------------------------</text>
        </line>
        #foreach ($line in $payments.getSaleLines())
        <line>
            <text align ="left" length="22">${line.printTax()}</text>
            <text align ="right" length="10">${line.printSubtotal()}</text>
            <text align ="right" length="10">${line.printTotal()}</text>
        </line> 
        #end        
        <line>
            <text>------------------------------------------</text>
        </line> <line size="1">
            <text align ="left" length="22" bold="true">Total</text>
            <text align ="right" length="10" bold="true">${payments.printSalesSubtotal()}</text>
            <text align ="right" length="10" bold="true">${payments.printSalesTotal()}</text>
        </line>

        <line></line>
        <line>
            <text length="18">Maquina:</text>
            <text>${payments.printHost()}</text>
        </line>    
        <line>
            <text length="18">Fecha Inicio:</text>
            <text>${payments.printDateStart()}</text>
        </line>  
        <line>
            <text length="18">Fecha Fin:</text>
            <text>${payments.printDateEnd()}</text>
        </line>
    #elseif (${ticket.getTicketType()} == 6)<!--Si es un Reporte de Memoria Fiscal-->
        <line>
            <text align="left" length="30">${ticket.getNameType()}:</text>
            <text align ="right" length="12">${ticket.printId()}</text>
        </line>
      #foreach ($payments in $paymentsList)
         <line>
            <text align="left" length="2" bold="true">Z:</text>
            <text bold="true">00${payments.printCountReport()}</text>
        </line>
           <line>
            <text bold="true">Pagos</text>
        </line>
        <line>
            <text align ="right" length="42">Total</text>
        </line>
        <line>
            <text>------------------------------------------</text>
        </line> 
        #foreach ($line in $payments.getPaymentLines())
        <line>
            <text align ="left" length="32">${line.printType()}</text>
            <text align ="right" length="10">${line.printValue()}</text>
        </line> 
        #end
        <line>
            <text>------------------------------------------</text>
        </line> 
        
        <line>
            <text align ="left" length="32">Pagos Realizados:</text>
            <text align ="right" length="10">${payments.printPayments()}</text>
        </line>
        <line size="1">
            <text align ="left" length="32" bold="true">Total</text>
            <text align ="right" length="10" bold="true">${payments.printPaymentsTotal()}</text>
        </line>
        

        <line></line>
        <line>
            <text bold="true">Impuestos</text>
        </line>
        <line>
            <text align ="right" length="32">Sub-Total</text>
            <text align ="right" length="10">Total</text>
        </line>
        <line>
            <text>------------------------------------------</text>
        </line>
        #foreach ($line in $payments.getSaleLines())
        <line>
            <text align ="left" length="22">${line.printTax()}</text>
            <text align ="right" length="10">${line.printSubtotal()}</text>
            <text align ="right" length="10">${line.printTotal()}</text>
        </line> 
        #end        
        <line>
            <text>------------------------------------------</text>
        </line> <line size="1">
            <text align ="left" length="22" bold="true">Total</text>
            <text align ="right" length="10" bold="true">${payments.printSalesSubtotal()}</text>
            <text align ="right" length="10" bold="true">${payments.printSalesTotal()}</text>
        </line>

        <line></line>
        <line>
            <text length="18">Maquina:</text>
            <text>${payments.printHost()}</text>
        </line>    
        <line>
            <text length="18">Fecha Inicio:</text>
            <text>${payments.printDateStart()}</text>
        </line>  
        <line>
            <text length="18">Fecha Fin:</text>
            <text>${payments.printDateEnd()}</text>
        </line>
      #end
    #elseif (${ticket.getTicketType()} == 7)<!--Documento No fiscal-->
        <line>
            <text align="left" length="15">${ticket.getNameType()}:</text>
            <text>${ticket.printId()}</text>
        </line>
         <line>
            <text align="left" length="15">Fecha:</text>
            <text>${ticket.printDate()}</text>
        </line>  
         <line>
            <text align="center" length="42" bold="true">No Fiscal</text>
        </line>
         <line></line>
          <line>
            <text align="center" length="42" bold="true">No Fiscal</text>
        </line>
         <line></line>
         #set ($ite = 0)
         #set ($w = 0)
          #foreach ($line in $ticket.printLinesNoFiscal())
           <line>
              #if($ite == 0)
              <text align ="center" length="42">$line</text>
              #else
              <text align ="left" length="42">$line</text>
              #end
           </line> 
            #if($w == 3)
                    <line>
                        <text align="center" length="42" bold="true">No Fiscal</text>
                    </line>
                     #set ($w = 0)
            #end
             #set ($ite = $ite + 1)
             #set ($w = $w + 1)
          #end   
        <line></line>
    #else
         #if ($ticket.getCustomer())
           #foreach ($lineText in $ticket.printCustomer())
             #if ($lineText != "")
           <line>
               <text align="left" length="42">$lineText</text>
            </line>
             #end
           #end
        #end
        #if ($place != "")
        <line>
            <text align="left" length="15">Table:</text>
            <text>${place}</text>
        </line>  
        #end
        <line></line>
        #if (${ticket.getTicketType()} == 1)
        <line>
            <text align="left" length="30">${ticket.getNameType()}:</text>
            <text>${ticket.printId()}</text>
        </line>
        #end
        #if (${ticket.getTicketType()} == 2)
        <line>
            <text align="left" length="30">${ticket.getNameType()}:</text>
            <text>${ticket.printId()}</text>
        </line>
        #end
         #if (${ticket.getTicketType()} == 3)
        <line>
            <text align="left" length="30">${ticket.getNameType()}:</text>
            <text>${ticket.printId()}</text>
        </line>
        #end
        <line>
            <text align="left" length="15">Fecha:</text>
            <text>${ticket.printDate()}</text>
        </line>          
        <line></line>    
        <line>
            <text align ="left" length="17">Item</text>
            <text align ="right" length="10">Precio</text>
            <text align ="right" length="5"></text>
            <text align ="right" length="10">Valor</text>
        </line>      
        <line>
             <text>______________________________________</text>
        </line>   
        #foreach ($ticketline in $ticket.getLines())
        <line>
            #if ($ticketline.isProductCom()) 
                <text align ="left" length="17">*${ticketline.printName()}</text>
            #else
                <text align ="left" length="17">${ticketline.printName()}</text>
            #end
            <text align ="right" length="10">${ticketline.printPrice()}</text>
            <text align ="right" length="5">x${ticketline.printMultiply()}</text>
            <text align ="right" length="10">${ticketline.printSubValue()}</text>
        </line> 
        #if (${ticketline.getProductAttSetInstId()})
        <line>
	        <text align ="left" length="42">${ticketline.getProductAttSetInstDesc()}</text>
        </line>
        #end
        #end
        <line>
             <text>______________________________________</text>
        </line>   
        <line>
            <text>Items: </text>
            <text align ="right" length="10">${ticket.printArticlesCount()}</text>
        </line> 
        <line></line> 
	#foreach ($taxinfo in $taxes)  
	#set( $taxline = $ticket.getTaxLine($taxinfo))
	<line>  
	<text align ="left" length="18">${taxline.getTaxInfo()}</text>  
	<text align ="right" length="12">${taxline.printSubTotal()}</text> 
	<text align ="right" length="12">${taxline.printTax()}</text> 
	</line>  
	#end 
	<line> </line>
  #if($ticket.printLinesNoFiscal())<!-->Anulacion de Documento<-->
        #foreach ($line in $ticket.printLinesNoFiscal())
         <line>
            <text align="center" length="42" bold="true">${line}</text>
         </line>
        #end       
  #else
        <line>
            <text align ="left" length="16">Sub-Total.</text>
            <text align ="right" length="20">${ticket.printSubTotal()}</text>
        </line> 
        <line>
            <text align ="left" length="16">Impuestos.</text>
            <text align ="right" length="20">${ticket.printTax()}</text>
        </line> 
         <line>
            <text align ="left" length="16">Propina:</text>
            <text align ="right" length="20">0</text>
        </line> 
        <line></line> 
        <line size="1">
            <text align ="left" length="23" bold="true">TOTAL</text>
            <text align ="right" length="20" bold="true">${ticket.printTotal()}</text>
        </line>    
        #foreach ($paymentline in $ticket.getPayments())      
        <line>
             <text align="left" length="22">${paymentline.getName()}</text>
             <text align ="right" length="20">${paymentline.printPaid()}</text>
         </line>  
           #if ($paymentline.getChange())
           <line>
               <text align="left" length="22">Cambio:</text>
               <text align ="right" length="20">${paymentline.printChange()}</text>
           </line>   
            #end        
         #end 
        <line></line>
         #if (${ticket.printUser()})
        <line>
            <text align="left" length="15">Cajero:</text>
            <text>${ticket.printUser()}</text>
        </line> 
         #end
     #end
       #if (${ticket.getTicketType()} == 1 || ${ticket.getTicketType()} == 2 || ${ticket.getTicketType()} == 3)
        <line></line>    
         #if (${ticket.printPieticket()})       
          #foreach ($lineText in $ticket.printPieticket())
            #if($lineText != "")
                <line>
                    <text align="center" length="42">$lineText</text>
                </line>
            #end
          #end
         #end 
       #end        
  #end
  <line></line>  
       <line>
            <text align="left" length="15">PA</text>
            <text align="right" length="27">${ticket.printNumberRegister()}</text>
        </line> 
</ticket>
</output>
